"0","library(tidyr)"
"0","library(dplyr)"
"2","
Attaching package: ‘dplyr’

"
"2","The following objects are masked from ‘package:stats’:

    filter, lag

"
"2","The following objects are masked from ‘package:base’:

    intersect, setdiff, setequal, union

"
"0","#install.packages(""countrycode"")"
"0","library(countrycode)"
"0","all_country <- countryname_dict %>% "
"0","  # filter out non-ASCII country names:"
"0","  filter(grepl('[A-Za-z]', country.name.alt)) %>%"
"0","  # define column `country.name.alt` as an atomic vector:"
"0","  pull(country.name.alt) %>% "
"0","  # change to lower-case:"
"0","  tolower()"
"0",""
"0","# define alternation pattern of all country names:"
"0","library(stringr)"
"0","pattern <- str_c(all_country, collapse = '|')  # A huge alternation pattern!"
"0",""
"0","df %>%"
"0","  # extract country name matches"
"0","  mutate(country = str_extract_all(tolower(text), pattern)) %>%"
"0","  unnest(country, keep_empty = TRUE)"
